<!doctype html>
<html lang="en">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-alpha/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdn.rawgit.com/carlosrocha/react-data-components/v0.1.1/css/table-twbs.css">
<link rel="stylesheet" href="https://cdn.rawgit.com/carlosrocha/react-data-components/v0.1.1/css/pagination.css">
<style>
  body {
    font-family: 'PT Sans', sans-serif;
    -webkit-font-smoothing: antialiased;
  }
  input[type="search"] {
    border: 1px solid #ddd;
    border-radius: 5px;
    margin-left: 10px;
  }
  .page-header {
    padding-bottom: 9px;
    margin: 40px 0 20px;
    border-bottom: 1px solid #eee;
  }
</style>
<title>React Data Components</title>
<body>
  <div class="container">
    <div class="page-header">
      <h1>React Data Components</h1>
    </div>

    <p class="lead">
      Reusable <a href="https://facebook.github.io/react/">React</a>
      components for displaying data, also compatible with Flux.
      See the <a href="https://github.com/carlosrocha/react-data-components">source code.</a>
    </p>

    <h2>DataTable</h2>
    <div id="datatable"></div>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.12.2/react-with-addons.min.js"></script>
  <script src="https://cdn.rawgit.com/carlosrocha/react-data-components/v0.1.1/dist/react-data-components.min.js"></script>
  <script src="data.js"></script>
  <script>
    function buildTable(data) {
      var renderMapUrl = function(val, row) {
        return React.createElement('a', {
            href: ('https://www.google.com/maps?q=' + row['lat'] + ',' + row['long'])
          },
          'Google Maps'
        );
      };

      var tableColumns = [
        { title: 'Name', prop: 'name' },
        { title: 'City', prop: 'city' },
        { title: 'Street address', prop: 'street' },
        { title: 'Phone', prop: 'phone', defaultContent: '<no phone>' },
        { title: 'Map', render: renderMapUrl, className: 'text-center' }
      ];

      return (
        React.createElement(ReactDataComponents.DataTable, {
          keys: 'id',
          columns: tableColumns,
          initialData: data,
          initialPageLength: 5,
          initialSortBy: { prop: 'city', order: 'desc'}
        })
      );
    }

    React.render(buildTable(data), document.getElementById('datatable'));
  </script>
</body>
