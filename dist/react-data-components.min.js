!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.ReactDataComponents=t(require("react")):e.ReactDataComponents=t(e.React)}(this,function(e){return function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){t.DataTable=n(8),t.Table=n(6),t.Pagination=n(3),t.SelectField=n(5),t.SearchField=n(4),t.DataMixin=n(2),t.utils=n(7)},function(t){t.exports=e},function(e,t,n){"use strict";var a=n(7),r=a.sort,o=a.filter,i=function(e,t){return e=(e+"").toLowerCase().trim(),t=(t+"").toLowerCase().trim(),t.indexOf(e)>=0};e.exports={getInitialState:function(){return{data:this.props.initialData.slice(0),sortBy:this.props.initialSortBy,filterValues:{},currentPage:0,pageLength:this.props.initialPageLength}},getDefaultProps:function(){return{initialPageLength:10,pageLengthOptions:[5,10,20],filters:{globalSearch:{filter:i}}}},componentWillMount:function(){var e=this.state,t=e.sortBy,n=e.data;t&&this.setState({data:r(t,n)})},onSort:function(e){this.setState({sortBy:e,data:r(e,this.state.data)})},onFilter:function(e,t){var n=this.state,a=n.filterValues,i=n.sortBy,s=this.props,l=s.initialData,u=s.filters;a[e]=t;var c=o(u,a,l);c=r(i,c),this.setState({data:c,filterValues:a,currentPage:0})},buildPage:function(){var e=this.state,t=e.data,n=e.currentPage,a=e.pageLength,r=a*n;return{data:t.slice(r,r+a),currentPage:n,totalPages:Math.ceil(t.length/a)}},onChangePage:function(e){this.setState({currentPage:e})},onPageLengthChange:function(e){var t=+e,n=this.state,a=n.currentPage,r=n.pageLength,o=Math.floor(a*r/t);this.setState({pageLength:t,currentPage:o})}}},function(e,t,n){"use strict";function a(){}var r=n(1),o=r,i=o.PropTypes,s=function(e){return e.preventDefault()};a.prototype.shouldComponentUpdate=function(e){var t=this.props;return t.totalPages!==e.totalPages||t.currentPage!==e.currentPage||t.showPages!==e.showPages},a.prototype.onChangePage=function(e,t){t.preventDefault(),this.props.onChangePage(e)},a.prototype.render=function(){var e=this.props,t=e.totalPages,n=e.showPages,a=e.currentPage;if(0===t)return null;var o=Math.floor(n/2),i=Math.max(a-o,0),l=Math.min(i+n,t);t>=n&&l>=t&&(i=t-n);for(var u,c,p=[],d=i;l>d;d++)c=a===d,u=c?s:this.onChangePage.bind(this,d),p.push(r.createElement("li",{key:d,className:c?"active":null},r.createElement("a",{role:"button",href:"#",onClick:u,tabIndex:"0"},r.createElement("span",null,d+1),c?r.createElement("span",{className:"sr-only"},"(current)"):null)));var h=s,f=s,g=a>0;g&&(h=this.onChangePage.bind(this,0),f=this.onChangePage.bind(this,a-1));var m=s,b=s,y=t-1>a;return y&&(m=this.onChangePage.bind(this,a+1),b=this.onChangePage.bind(this,t-1)),r.createElement("ul",{className:this.props.className,"aria-label":"Pagination"},r.createElement("li",{className:g?null:"disabled"},r.createElement("a",{role:"button",href:"#",tabIndex:"0",onClick:h,"aria-disabled":!g,"aria-label":"First"},r.createElement("span",{className:"fa fa-angle-double-left","aria-hidden":"true"}))),r.createElement("li",{className:g?null:"disabled"},r.createElement("a",{role:"button",href:"#",tabIndex:"0",onClick:f,"aria-disabled":!g,"aria-label":"Previous"},r.createElement("span",{className:"fa fa-angle-left","aria-hidden":"true"}))),p,r.createElement("li",{className:y?null:"disabled"},r.createElement("a",{role:"button",href:"#",tabIndex:"0",onClick:m,"aria-disabled":!y,"aria-label":"Next"},r.createElement("span",{className:"fa fa-angle-right","aria-hidden":"true"}))),r.createElement("li",{className:y?null:"disabled"},r.createElement("a",{role:"button",href:"#",tabIndex:"0",onClick:b,"aria-disabled":!y,"aria-label":"Last"},r.createElement("span",{className:"fa fa-angle-double-right","aria-hidden":"true"}))))},a.propTypes={onChangePage:i.func.isRequired,totalPages:i.number.isRequired,currentPage:i.number.isRequired,showPages:i.number},a.defaultProps={showPages:5},e.exports=a},function(e,t,n){"use strict";function a(){this.onChange=this.onChange.bind(this)}var r=n(1);a.prototype.onChange=function(e){this.props.onChange(e.target.value)},a.prototype.render=function(){return r.createElement("div",null,r.createElement("label",{htmlFor:this.props.id},this.props.label),r.createElement("input",{id:this.props.id,type:"search",value:this.props.value,onChange:this.onChange}))},e.exports=a},function(e,t,n){"use strict";function a(){this.onChange=this.onChange.bind(this)}var r=n(1);a.prototype.onChange=function(e){this.props.onChange(e.target.value)},a.prototype.render=function(){var e=this.props,t=e.id,n=e.options,a=e.label,o=e.value,i=n.map(function(e){return r.createElement("option",{key:e,value:e},e)});return r.createElement("div",null,r.createElement("label",{htmlFor:t},a),r.createElement("select",{id:t,value:o,onChange:this.onChange},i))},e.exports=a},function(e,t,n){"use strict";function a(e,t,n){var a=t.prop===e.prop?t.order:"none",r="ascending"===a?"descending":"ascending",o=n.bind(null,{prop:e.prop,order:r});return{onClick:o,onKeyDown:function(e){13===e.keyCode&&o()},onMouseDown:function(e){return e.preventDefault()},tabIndex:0,"aria-sort":a,"aria-label":e.title+": activate to sort column "+r}}function r(){this.$Table_headers=[]}var o=n(1),i=o,s=i.PropTypes,l=function(e){return function(t){return t[e]}},u=function(e){return function(t){return e.map(function(e){return t[e]})}},c=function(e){return void 0===e||null===e||""===e},p=function(e,t){var n=e.prop,a=e.defaultContent,r=e.render;return!c(n)&&c(t[n])?a:r?r(t[n],t):t[n]},d=function(e,t){var n=e.prop,a=e.className;return!c(n)&&c(t[n])?"empty-cell":"function"==typeof a?a(t[n],t):a};r.prototype.componentDidMount=function(){this.$Table_headers.forEach(function(e){var t=o.findDOMNode(e);t.style.width||(t.style.width=t.offsetWidth+"px")})},r.prototype.render=function(){var e=this.props,t=e.columns,n=e.keys,r=e.buildRowOptions,i=e.sortBy,s=e.onSort,c=t.map(function(e,t){var n,r;return"function"==typeof s&&e.sortable!==!1&&"prop"in e&&(n=a(e,i,s),r=n["aria-sort"]),o.createElement("th",o.__spread({ref:function(e){return this.$Table_headers[t]=e}.bind(this),key:t,style:{width:e.width},role:"columnheader",scope:"col"},n),o.createElement("span",null,e.title),"undefined"!=typeof r?o.createElement("span",{className:"sort-icon sort-"+r,"aria-hidden":"true"}):null)}.bind(this)),h=Array.isArray(n)?u(n):l(n),f=this.props.dataArray.map(function(e){return o.createElement("tr",o.__spread({key:h(e)},r(e)),t.map(function(t,n){return o.createElement("td",{key:n,className:d(t,e)},p(t,e))}))});return o.createElement("table",{className:this.props.className},o.createElement("caption",{className:"sr-only",role:"alert","aria-live":"polite"},"Sorted by "+i.prop+": "+i.order+" order"),o.createElement("thead",null,o.createElement("tr",null,c)),o.createElement("tbody",null,f.length>0?f:o.createElement("tr",null,o.createElement("td",{colSpan:t.length,className:"text-center"},"No data"))))},r.propTypes={keys:s.oneOfType([s.arrayOf(s.string),s.string]).isRequired,columns:s.arrayOf(s.shape({title:s.string.isRequired,prop:s.oneOfType([s.string,s.number]),render:s.func,sortable:s.bool,defaultContent:s.string,width:s.oneOfType([s.string,s.number]),className:s.oneOfType([s.string,s.func])})).isRequired,dataArray:s.arrayOf(s.oneOfType([s.array,s.object])).isRequired,buildRowOptions:s.func,sortBy:s.shape({prop:s.oneOfType([s.string,s.number]),order:s.oneOf(["ascending","descending"])}),onSort:s.func},r.defaultProps={buildRowOptions:function(){return{}},sortBy:{}},e.exports=r},function(e){"use strict";function t(e,t){for(var n in t)if(e(t[n],n)===!0)return!0;return!1}function n(e,t){var n=t.sort(o(e.prop));return"descending"===e.order&&n.reverse(),n}function a(e,n){return function(a,r){var o=e[r],i=o.filter.bind(null,a);return o.prop?i(n[o.prop]):t(function(e){return i(e)},n)}}function r(e,n,r){var o=a.bind(null,e);return r.filter(function(e){return t(o(e),n)})}var o=function(e){return function(t,n){return t[e]<n[e]?-1:t[e]>n[e]?1:0}};e.exports={filter:r,filterPass:a,sort:n,sortByFunc:o,some:t}},function(e,t,n){"use strict";var a=n(1),r=n(6),o=n(3),i=n(5),s=n(4),l=n(2),u=a.createClass({displayName:"DataTable",mixins:[l],render:function(){var e=this.buildPage();return a.createElement("div",{className:this.props.className},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-xs-4"},a.createElement(i,{id:"page-menu",label:"Page size:",value:this.state.pageLength,options:this.props.pageLengthOptions,onChange:this.onPageLengthChange}),a.createElement(s,{id:"search-field",label:"Search:",value:this.state.filterValues.globalSearch,onChange:this.onFilter.bind(this,"globalSearch")})),a.createElement("div",{className:"col-xs-8"},a.createElement(o,{className:"pagination pull-right",currentPage:e.currentPage,totalPages:e.totalPages,onChangePage:this.onChangePage}))),a.createElement(r,{className:"table table-bordered",dataArray:e.data,columns:this.props.columns,keys:this.props.keys,sortBy:this.state.sortBy,onSort:this.onSort}))}});e.exports=u}])});