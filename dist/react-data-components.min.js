!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.ReactDataComponents=t(require("react")):e.ReactDataComponents=t(e.React)}(this,function(e){return function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";t.DataTable=n(8),t.Table=n(6),t.Pagination=n(3),t.SelectField=n(5),t.SearchField=n(4),t.DataMixin=n(2),t.utils=n(7)},function(t,n){t.exports=e},function(e,t,n){"use strict";function a(e){return{data:e.initialData.slice(0),sortBy:e.initialSortBy,filterValues:{},currentPage:0,pageLength:e.initialPageLength}}var r=n(7),o=r.sort,i=r.filter,l=function(e,t){return e=(e+"").toLowerCase().trim(),t=(t+"").toLowerCase().trim(),t.indexOf(e)>=0};e.exports={getInitialState:function(){return a(this.props)},getDefaultProps:function(){return{initialPageLength:10,pageLengthOptions:[5,10,20],filters:{globalSearch:{filter:l}}}},componentWillReceiveProps:function(e){this.setState(a(e))},componentWillMount:function(){var e=this.state,t=e.sortBy,n=e.data;t&&this.setState({data:o(t,n)})},onSort:function(e){this.setState({sortBy:e,data:o(e,this.state.data)})},onFilter:function(e,t){var n=this.state,a=n.filterValues,r=n.sortBy,l=this.props,s=l.initialData,u=l.filters;a[e]=t;var c=i(u,a,s);c=o(r,c),this.setState({data:c,filterValues:a,currentPage:0})},buildPage:function(){var e=this.state,t=e.data,n=e.currentPage,a=e.pageLength,r=a*n;return{data:t.slice(r,r+a),currentPage:n,totalPages:Math.ceil(t.length/a)}},onChangePage:function(e){this.setState({currentPage:e})},onPageLengthChange:function(e){var t=+e,n=this.state,a=n.currentPage,r=n.pageLength,o=Math.floor(a*r/t);this.setState({pageLength:t,currentPage:o})}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),l=a(i),s=function(e){return e.preventDefault()},u=function(){function e(){r(this,e)}return o(e,[{key:"shouldComponentUpdate",value:function(e){var t=this.props;return t.totalPages!==e.totalPages||t.currentPage!==e.currentPage||t.showPages!==e.showPages}},{key:"onChangePage",value:function(e,t){t.preventDefault(),this.props.onChangePage(e)}},{key:"render",value:function(){var e=this.props,t=e.totalPages,n=e.showPages,a=e.currentPage;if(0===t)return null;var r=Math.floor(n/2),o=Math.max(a-r,0),i=Math.min(o+n,t);t>=n&&i>=t&&(o=t-n);for(var u,c,p=[],f=o;i>f;f++)c=a===f,u=c?s:this.onChangePage.bind(this,f),p.push(l["default"].createElement("li",{key:f,className:c?"active":null},l["default"].createElement("a",{role:"button",href:"#",onClick:u,tabIndex:"0"},l["default"].createElement("span",null,f+1),c?l["default"].createElement("span",{className:"sr-only"},"(current)"):null)));var d=s,h=s,g=a>0;g&&(d=this.onChangePage.bind(this,0),h=this.onChangePage.bind(this,a-1));var y=s,m=s,b=t-1>a;return b&&(y=this.onChangePage.bind(this,a+1),m=this.onChangePage.bind(this,t-1)),p=[l["default"].createElement("li",{key:"first",className:g?null:"disabled"},l["default"].createElement("a",{role:"button",href:"#",tabIndex:"0",onClick:d,"aria-disabled":!g,"aria-label":"First"},l["default"].createElement("span",{className:"fa fa-angle-double-left","aria-hidden":"true"}))),l["default"].createElement("li",{key:"prev",className:g?null:"disabled"},l["default"].createElement("a",{role:"button",href:"#",tabIndex:"0",onClick:h,"aria-disabled":!g,"aria-label":"Previous"},l["default"].createElement("span",{className:"fa fa-angle-left","aria-hidden":"true"})))].concat(p),p=p.concat([l["default"].createElement("li",{key:"next",className:b?null:"disabled"},l["default"].createElement("a",{role:"button",href:"#",tabIndex:"0",onClick:y,"aria-disabled":!b,"aria-label":"Next"},l["default"].createElement("span",{className:"fa fa-angle-right","aria-hidden":"true"}))),l["default"].createElement("li",{key:"last",className:b?null:"disabled"},l["default"].createElement("a",{role:"button",href:"#",tabIndex:"0",onClick:m,"aria-disabled":!b,"aria-label":"Last"},l["default"].createElement("span",{className:"fa fa-angle-double-right","aria-hidden":"true"})))]),l["default"].createElement("ul",{className:this.props.className,"aria-label":"Pagination"},p)}}],[{key:"defaultProps",value:{showPages:5},enumerable:!0},{key:"propTypes",value:{onChangePage:i.PropTypes.func.isRequired,totalPages:i.PropTypes.number.isRequired,currentPage:i.PropTypes.number.isRequired,showPages:i.PropTypes.number},enumerable:!0}]),e}();t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(1),i=function(){function e(){a(this,e),this.onChange=this.onChange.bind(this)}return r(e,[{key:"onChange",value:function(e){this.props.onChange(e.target.value)}},{key:"render",value:function(){return o.createElement("div",null,o.createElement("label",{htmlFor:this.props.id},this.props.label),o.createElement("input",{id:this.props.id,type:"search",value:this.props.value,onChange:this.onChange}))}}]),e}();e.exports=i},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(1),i=function(){function e(){a(this,e),this.onChange=this.onChange.bind(this)}return r(e,[{key:"onChange",value:function(e){this.props.onChange(e.target.value)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.options,a=e.label,r=e.value,i=n.map(function(e){return o.createElement("option",{key:e,value:e},e)});return o.createElement("div",null,o.createElement("label",{htmlFor:t},a),o.createElement("select",{id:t,value:r,onChange:this.onChange},i))}}]),e}();e.exports=i},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){var a=t.prop===e.prop?t.order:"none",r="ascending"===a?"descending":"ascending",o=n.bind(null,{prop:e.prop,order:r});return{onClick:o,onKeyDown:function(e){13===e.keyCode&&o()},onMouseDown:function(e){return e.preventDefault()},tabIndex:0,"aria-sort":a,"aria-label":e.title+": activate to sort column "+r}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),u=a(s),c=function(e){return function(t){return t[e]}},p=function(e){return function(t){return e.map(function(e){return t[e]})}},f=function(e){return null==e||""===e},d=function(e,t){var n=e.prop,a=e.defaultContent,r=e.render;return!f(n)&&f(t[n])?a:r?r(t[n],t):t[n]},h=function(e,t){var n=e.prop,a=e.className;return!f(n)&&f(t[n])?"empty-cell":"function"==typeof a?a(t[n],t):a},g=function(){function e(){r(this,e),this._headers=[]}return l(e,null,[{key:"defaultProps",value:{buildRowOptions:function(){return{}},sortBy:{}},enumerable:!0},{key:"propTypes",value:{keys:s.PropTypes.oneOfType([s.PropTypes.arrayOf(s.PropTypes.string),s.PropTypes.string]).isRequired,columns:s.PropTypes.arrayOf(s.PropTypes.shape({title:s.PropTypes.string.isRequired,prop:s.PropTypes.oneOfType([s.PropTypes.string,s.PropTypes.number]),render:s.PropTypes.func,sortable:s.PropTypes.bool,defaultContent:s.PropTypes.string,width:s.PropTypes.oneOfType([s.PropTypes.string,s.PropTypes.number]),className:s.PropTypes.oneOfType([s.PropTypes.string,s.PropTypes.func])})).isRequired,dataArray:s.PropTypes.arrayOf(s.PropTypes.oneOfType([s.PropTypes.array,s.PropTypes.object])).isRequired,buildRowOptions:s.PropTypes.func,sortBy:s.PropTypes.shape({prop:s.PropTypes.oneOfType([s.PropTypes.string,s.PropTypes.number]),order:s.PropTypes.oneOf(["ascending","descending"])}),onSort:s.PropTypes.func},enumerable:!0}]),l(e,[{key:"componentDidMount",value:function(){this._headers.forEach(function(e){var t=u["default"].findDOMNode(e);t.style.width||(t.style.width=t.offsetWidth+"px")})}},{key:"render",value:function(){var e=this,t=this.props,n=t.columns,a=t.keys,r=t.buildRowOptions,l=t.sortBy,s=t.onSort,f=n.map(function(t,n){var a=void 0,r=void 0;return"function"==typeof s&&t.sortable!==!1&&"prop"in t&&(a=o(t,l,s),r=a["aria-sort"]),u["default"].createElement("th",i({ref:function(t){return e._headers[n]=t},key:n,style:{width:t.width},role:"columnheader",scope:"col"},a),u["default"].createElement("span",null,t.title),"undefined"!=typeof r?u["default"].createElement("span",{className:"sort-icon sort-"+r,"aria-hidden":"true"}):null)}),g=Array.isArray(a)?p(a):c(a),y=this.props.dataArray.map(function(e){return u["default"].createElement("tr",i({key:g(e)},r(e)),n.map(function(t,n){return u["default"].createElement("td",{key:n,className:h(t,e)},d(t,e))}))});return u["default"].createElement("table",{className:this.props.className},u["default"].createElement("caption",{className:"sr-only",role:"alert","aria-live":"polite"},"Sorted by "+l.prop+": "+l.order+" order"),u["default"].createElement("thead",null,u["default"].createElement("tr",null,f)),u["default"].createElement("tbody",null,y.length?y:u["default"].createElement("tr",null,u["default"].createElement("td",{colSpan:n.length,className:"text-center"},"No data"))))}}]),e}();t["default"]=g,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){for(var n in t)if(e(t[n],n)===!0)return!0;return!1}function a(e,t){var n=t.sort(i(e.prop));return"descending"===e.order&&n.reverse(),n}function r(e,t){return function(a,r){var o=e[r],i=o.filter.bind(null,a);return o.prop?i(t[o.prop]):n(function(e){return i(e)},t)}}function o(e,t,a){var o=r.bind(null,e);return a.filter(function(e){return n(o(e),t)})}var i=function(e){return function(t,n){return t[e]<n[e]?-1:t[e]>n[e]?1:0}};e.exports={filter:o,filterPass:r,sort:a,sortByFunc:i,some:n}},function(e,t,n){"use strict";var a=n(1),r=n(6),o=n(3),i=n(5),l=n(4),s=n(2),u=a.createClass({displayName:"DataTable",mixins:[s],render:function(){var e=this.buildPage();return a.createElement("div",{className:this.props.className},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-xs-4"},a.createElement(i,{id:"page-menu",label:"Page size:",value:this.state.pageLength,options:this.props.pageLengthOptions,onChange:this.onPageLengthChange}),a.createElement(l,{id:"search-field",label:"Search:",value:this.state.filterValues.globalSearch,onChange:this.onFilter.bind(this,"globalSearch")})),a.createElement("div",{className:"col-xs-8"},a.createElement(o,{className:"pagination pull-right",currentPage:e.currentPage,totalPages:e.totalPages,onChangePage:this.onChangePage}))),a.createElement(r,{className:"table table-bordered",dataArray:e.data,columns:this.props.columns,keys:this.props.keys,buildRowOptions:this.props.buildRowOptions,sortBy:this.state.sortBy,onSort:this.onSort}))}});e.exports=u}])});