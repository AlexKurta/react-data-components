!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react/addons")):"function"==typeof define&&define.amd?define(["react","react/addons"],t):"object"==typeof exports?exports.ReactDataComponents=t(require("react"),require("react/addons")):e.ReactDataComponents=t(e.react,e["react/addons"])}(this,function(e,t){return function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){t.DataTable=r(8),t.Table=r(6),t.Pagination=r(3),t.SelectField=r(5),t.SearchField=r(4),t.DataMixin=r(2),t.utils=r(7)},function(t){t.exports=e},function(e,t,r){var n=r(7),a=n.sort,s=n.filter,o=function(e,t){return e=(e+"").toLowerCase().trim(),t=(t+"").toLowerCase().trim(),t.indexOf(e)>=0};e.exports={getInitialState:function(){return{data:this.props.initialData.slice(0),sortBy:this.props.initialSortBy,filterValues:{},currentPage:0,pageLength:this.props.initialPageLength}},getDefaultProps:function(){return{initialPageLength:10,pageLengthOptions:[5,10,20],filters:{globalSearch:{filter:o}}}},componentWillMount:function(){var e=this.state,t=e.sortBy,r=e.data;t&&this.setState({data:a(t,r)})},onSort:function(e){this.setState({sortBy:e,data:a(e,this.state.data)})},onFilter:function(e,t){var r=this.state,n=r.filterValues,o=r.sortBy,i=this.props,p=i.initialData,l=i.filters;n[e]=t;var c=s(l,n,p);c=a(o,c),this.setState({data:c,filterValues:n,currentPage:0})},buildPage:function(){var e=this.state,t=e.data,r=e.currentPage,n=e.pageLength,a=n*r;return{data:t.slice(a,a+n),currentPage:r,totalPages:Math.ceil(t.length/n)}},onChangePage:function(e){this.setState({currentPage:e})},onPageLengthChange:function(e){var t=+e,r=this.state,n=r.currentPage,a=r.pageLength,s=Math.floor(n*a/t);this.setState({pageLength:t,currentPage:s})}}},function(e,t,r){var n=r(9),a=function(e){return e.preventDefault()},s=n.createClass({displayName:"ListButton",render:function(){var e=this.props,t=e.className,r=e.event,a=e.children;return n.createElement("li",{className:t},n.createElement("a",{href:"#",onClick:r},a))}}),o=n.createClass({displayName:"Pagination",mixins:[n.addons.PureRenderMixin],propTypes:{onChangePage:n.PropTypes.func.isRequired,totalPages:n.PropTypes.number.isRequired,currentPage:n.PropTypes.number.isRequired,showPages:n.PropTypes.number},getDefaultProps:function(){return{showPages:5}},onChangePage:function(e,t){t.preventDefault(),this.props.onChangePage(e)},render:function(){var e=this.props,t=e.totalPages,r=e.showPages,o=e.currentPage;if(0===t)return null;var i=Math.floor(r/2),p=Math.max(o-i,0),l=Math.min(p+r,t);t>=r&&l>=t&&(p=t-r);for(var c,u,d=[],h=p;l>h;h++)o===h?(c="active",u=a):(c=null,u=this.onChangePage.bind(this,h)),d.push(n.createElement(s,{key:h,className:c,event:u},h+1));var f=a,g="first disabled",m=a,y="prev disabled";o>0&&(f=this.onChangePage.bind(this,0),g="first",m=this.onChangePage.bind(this,o-1),y="prev");var P=a,v="next disabled",b=a,T="last disabled";return t-1>o&&(P=this.onChangePage.bind(this,o+1),v="next",b=this.onChangePage.bind(this,t-1),T="last"),n.createElement("ul",{className:this.props.className},n.createElement(s,{className:g,event:f}),n.createElement(s,{className:y,event:m}),d,n.createElement(s,{className:v,event:P}),n.createElement(s,{className:T,event:b}))}});e.exports=o},function(e,t,r){var n=r(1),a=n.createClass({displayName:"SearchField",onChange:function(e){this.props.onChange(e.target.value)},render:function(){return n.createElement("div",null,n.createElement("label",{htmlFor:this.props.id},this.props.label),n.createElement("input",{id:this.props.id,type:"search",value:this.props.value,onChange:this.onChange}))}});e.exports=a},function(e,t,r){var n=r(1),a=n.createClass({displayName:"SelectField",onChange:function(e){this.props.onChange(e.target.value)},render:function(){var e=this.props,t=e.id,r=e.options,a=e.label,s=e.value,o=r.map(function(e){return n.createElement("option",{key:e,value:e},e)});return n.createElement("div",null,n.createElement("label",{htmlFor:t},a),n.createElement("select",{id:t,value:s,onChange:this.onChange},o))}});e.exports=a},function(e,t,r){var n=r(1),a=function(e){return function(t){return t[e]}},s=function(e){return function(t){return e.map(function(e){return t[e]})}},o=function(e){return void 0===e||null===e||""===e},i=function(e){return"function"==typeof e},p=function(e,t){return e.prop===t?"asc"===e.order?"sort-asc":"sort-desc":"sort-off"},l=function(e,t){return e.prop===t&&"asc"===e.order?"desc":"asc"},c=function(e,t){return e.prop&&o(t[e.prop])?e.defaultContent:e.render?e.render(t[e.prop],t):t[e.prop]},u=function(e,t){return e.prop&&o(t[e.prop])?"empty-cell":i(e.className)?e.className(t[e.prop],t):e.className},d=n.createClass({displayName:"Table",propTypes:{keys:n.PropTypes.oneOfType([n.PropTypes.arrayOf(n.PropTypes.string),n.PropTypes.string]).isRequired,columns:n.PropTypes.arrayOf(n.PropTypes.shape({title:n.PropTypes.string.isRequired,prop:n.PropTypes.oneOfType([n.PropTypes.string,n.PropTypes.number]),render:n.PropTypes.func,sortable:n.PropTypes.bool,defaultContent:n.PropTypes.string,width:n.PropTypes.oneOfType([n.PropTypes.string,n.PropTypes.number]),className:n.PropTypes.oneOfType([n.PropTypes.string,n.PropTypes.func])})).isRequired,dataArray:n.PropTypes.arrayOf(n.PropTypes.oneOfType([n.PropTypes.array,n.PropTypes.object])).isRequired,buildRowOpts:n.PropTypes.func,sortBy:n.PropTypes.shape({prop:n.PropTypes.oneOfType([n.PropTypes.string,n.PropTypes.number]),order:n.PropTypes.oneOf(["asc","desc"])}),onSort:n.PropTypes.func},getDefaultProps:function(){return{buildRowOpts:function(){return{}},sortBy:{}}},componentDidMount:function(){for(var e=0;e<this.props.columns.length;e++){var t=this.refs["th-"+e].getDOMNode();t.style.width||(t.style.width=t.offsetWidth+"px")}},render:function(){var e=this.props,t=e.columns,r=e.keys,o=e.buildRowOpts,i=e.sortBy,d=e.onSort,h=t.map(function(e,t){var r,a="sort-disabled";return e.sortable!==!1&&void 0!==e.prop&&(r=d.bind(null,{prop:e.prop,order:l(i,e.prop)}),a=p(i,e.prop)),n.createElement("th",{ref:"th-"+t,key:t,onClick:r,style:{width:e.width}},e.title,n.createElement("i",{className:"sort-icon "+a}))}),f=Array.isArray(r)?s(r):a(r),g=this.props.dataArray.map(function(e){return n.createElement("tr",n.__spread({key:f(e)},o(e)),t.map(function(t,r){return n.createElement("td",{key:r,className:u(t,e)},c(t,e))}))});return n.createElement("table",{className:this.props.className},n.createElement("thead",null,n.createElement("tr",null,h)),n.createElement("tbody",null,g.length?g:n.createElement("tr",null,n.createElement("td",{colSpan:100,className:"text-center"},"No data"))))}});e.exports=d},function(e){function t(e,t){for(var r in t)if(e(t[r],r)===!0)return!0;return!1}function r(e,t){var r=t.sort(s(e.prop));return"desc"===e.order&&r.reverse(),r}function n(e,r){return function(n,a){var s=e[a],o=s.filter.bind(null,n);return s.prop?o(r[s.prop]):t(function(e){return o(e)},r)}}function a(e,r,a){var s=n.bind(null,e);return a.filter(function(e){return t(s(e),r)})}var s=function(e){return function(t,r){return t[e]<r[e]?-1:t[e]>r[e]?1:0}};e.exports={filter:a,filterPass:n,sort:r,sortByFunc:s,some:t}},function(e,t,r){var n=r(1),a=r(6),s=r(3),o=r(5),i=r(4),p=r(2),l=n.createClass({displayName:"DataTable",mixins:[p],render:function(){var e=this.buildPage();return n.createElement("div",{className:this.props.className},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-xs-4"},n.createElement(o,{id:"page-menu",label:"Page size:",value:this.state.pageLength,options:this.props.pageLengthOptions,onChange:this.onPageLengthChange}),n.createElement(i,{id:"search-field",label:"Search:",value:this.state.filterValues.globalSearch,onChange:this.onFilter.bind(this,"globalSearch")})),n.createElement("div",{className:"col-xs-8"},n.createElement(s,{className:"pagination pull-right",currentPage:e.currentPage,totalPages:e.totalPages,onChangePage:this.onChangePage}))),n.createElement(a,{className:"table table-bordered",dataArray:e.data,columns:this.props.columns,keys:this.props.keys,sortBy:this.state.sortBy,onSort:this.onSort}))}});e.exports=l},function(e){e.exports=t}])});